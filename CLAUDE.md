# CLAUDE.md

Этот файл предоставляет руководство Claude Code (claude.ai/code) при работе с кодом в этом репозитории.

## Обзор проекта

Это React приложение для системы управления недвижимостью (Property Asset Management System - PAMS) с локальным хранением данных через localStorage. Приложение написано на русском языке и предназначено для управления объектами недвижимости, транзакциями и оценками.

## Архитектура

### Основные компоненты:
- **App** - главный компонент приложения
- **LocalStorage** - локальное хранилище данных вместо Firebase
- **Модальные окна** - для добавления транзакций и новых объектов
- **Аналитические карточки** - для отображения финансовых показателей

### Структура данных:
- `assets` - объекты недвижимости
- `transactions` - финансовые транзакции (доходы/расходы)
- `valuations` - оценки стоимости объектов
- `userId` - уникальный идентификатор пользователя

### Особенности реализации:
- Использует SVG иконки для совместимости
- Работает полностью офлайн через localStorage
- Генерирует уникальные ID для всех записей
- Автоматически сохраняет данные при изменениях
- Русскоязычный интерфейс

## Разработка

### Локальный запуск:
```bash
# Откройте index.html в браузере
# или используйте локальный сервер:
python -m http.server 8000
# затем откройте http://localhost:8000
```

### Тестирование:
В проекте отсутствуют формальные тесты. Для тестирования функциональности:
1. Откройте index.html в браузере
2. Проверьте работу модальных окон
3. Убедитесь что данные сохраняются в localStorage
4. Проверьте работу аналитики и расчетов

### Структура localStorage:
Данные хранятся в ключе `pams_data`:
```json
{
  "assets": [...],
  "transactions": [...],
  "valuations": {...},
  "userId": "user_xxxxx"
}
```

### Ключевые функции:
- `loadData()` - загрузка данных из localStorage
- `saveData()` - сохранение данных в localStorage
- `handleAddAsset()` - добавление нового объекта недвижимости
- `handleAddTransaction()` - добавление транзакции
- `confirmValuation()` - подтверждение оценки (L2 процесс)
- `requestNewValuation()` - запрос новой оценки (L1 процесс)

## Деплоймент

### Автоматический деплой через GitHub Actions:
Проект настроен на автоматический деплой на GitHub Pages:
1. Создайте репозиторий на GitHub
2. В настройках репозитория включите GitHub Pages
3. Отправьте код в основную ветку
4. GitHub Actions автоматически задеплоит сайт

### Ручной деплой:
1. **GitHub Pages** - загрузить файл index.html
2. **Vercel/Netlify** - подключить репозиторий
3. **Любой статический хостинг** - файл полностью автономный

### Для продакшена:
- Приложение полностью автономно и не требует настроек
- Данные хранятся локально в браузере пользователя
- Рассмотрите добавление функции экспорта/импорта данных

## Кодовая база

- Файл содержит полный код приложения в одном HTML файле
- Использует Tailwind CSS для стилизации (встроенные классы)
- Форматирование валют AED с использованием Intl.NumberFormat
- Вся логика состояния управляется через React hooks
- Не требует серверной части или внешних сервисов

## Особенности localStorage

- **Преимущества**: Работает офлайн, не требует настройки, быстрая работа
- **Ограничения**: Данные доступны только в одном браузере, можно потерять при очистке кеша
- **Объем**: Обычно около 5-10MB на один домен
- **Совместимость**: Работает во всех современных браузерах